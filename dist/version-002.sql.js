"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = `
BEGIN TRANSACTION;

CREATE TABLE IF NOT EXISTS __SCHEMA__.records (
  id bigserial NOT NULL,
  row_id bigint NOT NULL,
  row_resource_id text NOT NULL,
  form_id bigint NOT NULL,
  form_resource_id text NOT NULL,
  project_id bigint,
  project_resource_id text,
  assigned_to_id bigint,
  assigned_to_resource_id text,
  status text,
  latitude double precision,
  longitude double precision,
  created_at timestamp with time zone NOT NULL,
  updated_at timestamp with time zone NOT NULL,
  version bigint NOT NULL,
  created_by_id bigint,
  created_by_resource_id text,
  updated_by_id bigint,
  updated_by_resource_id text,
  server_created_at timestamp with time zone NOT NULL,
  server_updated_at timestamp with time zone NOT NULL,
  record_index_text text,
  record_index tsvector,
  geometry geometry(Geometry,4326),
  altitude double precision,
  speed double precision,
  course double precision,
  horizontal_accuracy double precision,
  vertical_accuracy double precision,
  form_values text,
  changeset_id bigint,
  changeset_resource_id text,
  title text,
  created_latitude double precision,
  created_longitude double precision,
  created_geometry geometry(Geometry,4326),
  created_altitude double precision,
  created_horizontal_accuracy double precision,
  updated_latitude double precision,
  updated_longitude double precision,
  updated_geometry geometry(Geometry,4326),
  updated_altitude double precision,
  updated_horizontal_accuracy double precision,
  created_duration bigint,
  updated_duration bigint,
  edited_duration bigint,
  CONSTRAINT records_pkey PRIMARY KEY (id)
);

DROP VIEW IF EXISTS __VIEW_SCHEMA__.records_view;

CREATE OR REPLACE VIEW __VIEW_SCHEMA__.records_view AS
SELECT
  records.row_resource_id AS record_id,
  records.form_resource_id AS form_id,
  records.project_resource_id AS project_id,
  records.assigned_to_resource_id AS assigned_to_id,
  records.status AS status,
  records.latitude AS latitude,
  records.longitude AS longitude,
  records.created_at AS created_at,
  records.updated_at AS updated_at,
  records.version AS version,
  records.created_by_resource_id AS created_by_id,
  records.updated_by_resource_id AS updated_by_id,
  records.server_created_at AS server_created_at,
  records.server_updated_at AS server_updated_at,
  records.geometry AS geometry,
  records.altitude AS altitude,
  records.speed AS speed,
  records.course AS course,
  records.horizontal_accuracy AS horizontal_accuracy,
  records.vertical_accuracy AS vertical_accuracy,
  records.changeset_resource_id AS changeset_id,
  records.title AS title,
  records.created_latitude AS created_latitude,
  records.created_longitude AS created_longitude,
  records.created_geometry AS created_geometry,
  records.created_altitude AS created_altitude,
  records.created_horizontal_accuracy AS created_horizontal_accuracy,
  records.updated_latitude AS updated_latitude,
  records.updated_longitude AS updated_longitude,
  records.updated_geometry AS updated_geometry,
  records.updated_altitude AS updated_altitude,
  records.updated_horizontal_accuracy AS updated_horizontal_accuracy,
  records.created_duration AS created_duration,
  records.updated_duration AS updated_duration,
  records.edited_duration AS edited_duration
FROM __SCHEMA__.records;


CREATE UNIQUE INDEX idx_records_row_resource_id ON __SCHEMA__.records USING btree (row_resource_id);

CREATE UNIQUE INDEX idx_records_row_id ON __SCHEMA__.records USING btree (row_id);

CREATE INDEX idx_records_form_resource_id ON __SCHEMA__.records USING btree (form_resource_id);

CREATE INDEX idx_records_assigned_to_resource_id ON __SCHEMA__.records USING btree (assigned_to_resource_id);

CREATE INDEX idx_records_changeset_resource_id ON __SCHEMA__.records USING btree (changeset_resource_id);

CREATE INDEX idx_records_geometry ON __SCHEMA__.records USING gist (geometry);

CREATE INDEX idx_records_project_resource_id ON __SCHEMA__.records USING btree (project_resource_id);

CREATE INDEX idx_records_record_index ON __SCHEMA__.records USING gin (record_index);

CREATE INDEX idx_records_server_updated_at ON __SCHEMA__.records USING btree (server_updated_at);

CREATE INDEX idx_records_server_created_at ON __SCHEMA__.records USING btree (server_created_at);

CREATE INDEX idx_records_status ON __SCHEMA__.records USING btree (status);

INSERT INTO __SCHEMA__.migrations (name) VALUES ('002');

ALTER TABLE __SCHEMA__.audio RENAME TO system_audio;
ALTER TABLE __SCHEMA__.changesets RENAME TO system_changesets;
ALTER TABLE __SCHEMA__.choice_lists RENAME TO system_choice_lists;
ALTER TABLE __SCHEMA__.classification_sets RENAME TO system_classification_sets;
ALTER TABLE __SCHEMA__.forms RENAME TO system_forms;
ALTER TABLE __SCHEMA__.memberships RENAME TO system_memberships;
ALTER TABLE __SCHEMA__.photos RENAME TO system_photos;
ALTER TABLE __SCHEMA__.projects RENAME TO system_projects;
ALTER TABLE __SCHEMA__.roles RENAME TO system_roles;
ALTER TABLE __SCHEMA__.signatures RENAME TO system_signatures;
ALTER TABLE __SCHEMA__.videos RENAME TO system_videos;
ALTER TABLE __SCHEMA__.records RENAME TO system_records;

COMMIT;
`;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3ZlcnNpb24tMDAyLnNxbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztrQkFBZ0IiLCJmaWxlIjoidmVyc2lvbi0wMDIuc3FsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgYFxuQkVHSU4gVFJBTlNBQ1RJT047XG5cbkNSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIF9fU0NIRU1BX18ucmVjb3JkcyAoXG4gIGlkIGJpZ3NlcmlhbCBOT1QgTlVMTCxcbiAgcm93X2lkIGJpZ2ludCBOT1QgTlVMTCxcbiAgcm93X3Jlc291cmNlX2lkIHRleHQgTk9UIE5VTEwsXG4gIGZvcm1faWQgYmlnaW50IE5PVCBOVUxMLFxuICBmb3JtX3Jlc291cmNlX2lkIHRleHQgTk9UIE5VTEwsXG4gIHByb2plY3RfaWQgYmlnaW50LFxuICBwcm9qZWN0X3Jlc291cmNlX2lkIHRleHQsXG4gIGFzc2lnbmVkX3RvX2lkIGJpZ2ludCxcbiAgYXNzaWduZWRfdG9fcmVzb3VyY2VfaWQgdGV4dCxcbiAgc3RhdHVzIHRleHQsXG4gIGxhdGl0dWRlIGRvdWJsZSBwcmVjaXNpb24sXG4gIGxvbmdpdHVkZSBkb3VibGUgcHJlY2lzaW9uLFxuICBjcmVhdGVkX2F0IHRpbWVzdGFtcCB3aXRoIHRpbWUgem9uZSBOT1QgTlVMTCxcbiAgdXBkYXRlZF9hdCB0aW1lc3RhbXAgd2l0aCB0aW1lIHpvbmUgTk9UIE5VTEwsXG4gIHZlcnNpb24gYmlnaW50IE5PVCBOVUxMLFxuICBjcmVhdGVkX2J5X2lkIGJpZ2ludCxcbiAgY3JlYXRlZF9ieV9yZXNvdXJjZV9pZCB0ZXh0LFxuICB1cGRhdGVkX2J5X2lkIGJpZ2ludCxcbiAgdXBkYXRlZF9ieV9yZXNvdXJjZV9pZCB0ZXh0LFxuICBzZXJ2ZXJfY3JlYXRlZF9hdCB0aW1lc3RhbXAgd2l0aCB0aW1lIHpvbmUgTk9UIE5VTEwsXG4gIHNlcnZlcl91cGRhdGVkX2F0IHRpbWVzdGFtcCB3aXRoIHRpbWUgem9uZSBOT1QgTlVMTCxcbiAgcmVjb3JkX2luZGV4X3RleHQgdGV4dCxcbiAgcmVjb3JkX2luZGV4IHRzdmVjdG9yLFxuICBnZW9tZXRyeSBnZW9tZXRyeShHZW9tZXRyeSw0MzI2KSxcbiAgYWx0aXR1ZGUgZG91YmxlIHByZWNpc2lvbixcbiAgc3BlZWQgZG91YmxlIHByZWNpc2lvbixcbiAgY291cnNlIGRvdWJsZSBwcmVjaXNpb24sXG4gIGhvcml6b250YWxfYWNjdXJhY3kgZG91YmxlIHByZWNpc2lvbixcbiAgdmVydGljYWxfYWNjdXJhY3kgZG91YmxlIHByZWNpc2lvbixcbiAgZm9ybV92YWx1ZXMgdGV4dCxcbiAgY2hhbmdlc2V0X2lkIGJpZ2ludCxcbiAgY2hhbmdlc2V0X3Jlc291cmNlX2lkIHRleHQsXG4gIHRpdGxlIHRleHQsXG4gIGNyZWF0ZWRfbGF0aXR1ZGUgZG91YmxlIHByZWNpc2lvbixcbiAgY3JlYXRlZF9sb25naXR1ZGUgZG91YmxlIHByZWNpc2lvbixcbiAgY3JlYXRlZF9nZW9tZXRyeSBnZW9tZXRyeShHZW9tZXRyeSw0MzI2KSxcbiAgY3JlYXRlZF9hbHRpdHVkZSBkb3VibGUgcHJlY2lzaW9uLFxuICBjcmVhdGVkX2hvcml6b250YWxfYWNjdXJhY3kgZG91YmxlIHByZWNpc2lvbixcbiAgdXBkYXRlZF9sYXRpdHVkZSBkb3VibGUgcHJlY2lzaW9uLFxuICB1cGRhdGVkX2xvbmdpdHVkZSBkb3VibGUgcHJlY2lzaW9uLFxuICB1cGRhdGVkX2dlb21ldHJ5IGdlb21ldHJ5KEdlb21ldHJ5LDQzMjYpLFxuICB1cGRhdGVkX2FsdGl0dWRlIGRvdWJsZSBwcmVjaXNpb24sXG4gIHVwZGF0ZWRfaG9yaXpvbnRhbF9hY2N1cmFjeSBkb3VibGUgcHJlY2lzaW9uLFxuICBjcmVhdGVkX2R1cmF0aW9uIGJpZ2ludCxcbiAgdXBkYXRlZF9kdXJhdGlvbiBiaWdpbnQsXG4gIGVkaXRlZF9kdXJhdGlvbiBiaWdpbnQsXG4gIENPTlNUUkFJTlQgcmVjb3Jkc19wa2V5IFBSSU1BUlkgS0VZIChpZClcbik7XG5cbkRST1AgVklFVyBJRiBFWElTVFMgX19WSUVXX1NDSEVNQV9fLnJlY29yZHNfdmlldztcblxuQ1JFQVRFIE9SIFJFUExBQ0UgVklFVyBfX1ZJRVdfU0NIRU1BX18ucmVjb3Jkc192aWV3IEFTXG5TRUxFQ1RcbiAgcmVjb3Jkcy5yb3dfcmVzb3VyY2VfaWQgQVMgcmVjb3JkX2lkLFxuICByZWNvcmRzLmZvcm1fcmVzb3VyY2VfaWQgQVMgZm9ybV9pZCxcbiAgcmVjb3Jkcy5wcm9qZWN0X3Jlc291cmNlX2lkIEFTIHByb2plY3RfaWQsXG4gIHJlY29yZHMuYXNzaWduZWRfdG9fcmVzb3VyY2VfaWQgQVMgYXNzaWduZWRfdG9faWQsXG4gIHJlY29yZHMuc3RhdHVzIEFTIHN0YXR1cyxcbiAgcmVjb3Jkcy5sYXRpdHVkZSBBUyBsYXRpdHVkZSxcbiAgcmVjb3Jkcy5sb25naXR1ZGUgQVMgbG9uZ2l0dWRlLFxuICByZWNvcmRzLmNyZWF0ZWRfYXQgQVMgY3JlYXRlZF9hdCxcbiAgcmVjb3Jkcy51cGRhdGVkX2F0IEFTIHVwZGF0ZWRfYXQsXG4gIHJlY29yZHMudmVyc2lvbiBBUyB2ZXJzaW9uLFxuICByZWNvcmRzLmNyZWF0ZWRfYnlfcmVzb3VyY2VfaWQgQVMgY3JlYXRlZF9ieV9pZCxcbiAgcmVjb3Jkcy51cGRhdGVkX2J5X3Jlc291cmNlX2lkIEFTIHVwZGF0ZWRfYnlfaWQsXG4gIHJlY29yZHMuc2VydmVyX2NyZWF0ZWRfYXQgQVMgc2VydmVyX2NyZWF0ZWRfYXQsXG4gIHJlY29yZHMuc2VydmVyX3VwZGF0ZWRfYXQgQVMgc2VydmVyX3VwZGF0ZWRfYXQsXG4gIHJlY29yZHMuZ2VvbWV0cnkgQVMgZ2VvbWV0cnksXG4gIHJlY29yZHMuYWx0aXR1ZGUgQVMgYWx0aXR1ZGUsXG4gIHJlY29yZHMuc3BlZWQgQVMgc3BlZWQsXG4gIHJlY29yZHMuY291cnNlIEFTIGNvdXJzZSxcbiAgcmVjb3Jkcy5ob3Jpem9udGFsX2FjY3VyYWN5IEFTIGhvcml6b250YWxfYWNjdXJhY3ksXG4gIHJlY29yZHMudmVydGljYWxfYWNjdXJhY3kgQVMgdmVydGljYWxfYWNjdXJhY3ksXG4gIHJlY29yZHMuY2hhbmdlc2V0X3Jlc291cmNlX2lkIEFTIGNoYW5nZXNldF9pZCxcbiAgcmVjb3Jkcy50aXRsZSBBUyB0aXRsZSxcbiAgcmVjb3Jkcy5jcmVhdGVkX2xhdGl0dWRlIEFTIGNyZWF0ZWRfbGF0aXR1ZGUsXG4gIHJlY29yZHMuY3JlYXRlZF9sb25naXR1ZGUgQVMgY3JlYXRlZF9sb25naXR1ZGUsXG4gIHJlY29yZHMuY3JlYXRlZF9nZW9tZXRyeSBBUyBjcmVhdGVkX2dlb21ldHJ5LFxuICByZWNvcmRzLmNyZWF0ZWRfYWx0aXR1ZGUgQVMgY3JlYXRlZF9hbHRpdHVkZSxcbiAgcmVjb3Jkcy5jcmVhdGVkX2hvcml6b250YWxfYWNjdXJhY3kgQVMgY3JlYXRlZF9ob3Jpem9udGFsX2FjY3VyYWN5LFxuICByZWNvcmRzLnVwZGF0ZWRfbGF0aXR1ZGUgQVMgdXBkYXRlZF9sYXRpdHVkZSxcbiAgcmVjb3Jkcy51cGRhdGVkX2xvbmdpdHVkZSBBUyB1cGRhdGVkX2xvbmdpdHVkZSxcbiAgcmVjb3Jkcy51cGRhdGVkX2dlb21ldHJ5IEFTIHVwZGF0ZWRfZ2VvbWV0cnksXG4gIHJlY29yZHMudXBkYXRlZF9hbHRpdHVkZSBBUyB1cGRhdGVkX2FsdGl0dWRlLFxuICByZWNvcmRzLnVwZGF0ZWRfaG9yaXpvbnRhbF9hY2N1cmFjeSBBUyB1cGRhdGVkX2hvcml6b250YWxfYWNjdXJhY3ksXG4gIHJlY29yZHMuY3JlYXRlZF9kdXJhdGlvbiBBUyBjcmVhdGVkX2R1cmF0aW9uLFxuICByZWNvcmRzLnVwZGF0ZWRfZHVyYXRpb24gQVMgdXBkYXRlZF9kdXJhdGlvbixcbiAgcmVjb3Jkcy5lZGl0ZWRfZHVyYXRpb24gQVMgZWRpdGVkX2R1cmF0aW9uXG5GUk9NIF9fU0NIRU1BX18ucmVjb3JkcztcblxuXG5DUkVBVEUgVU5JUVVFIElOREVYIGlkeF9yZWNvcmRzX3Jvd19yZXNvdXJjZV9pZCBPTiBfX1NDSEVNQV9fLnJlY29yZHMgVVNJTkcgYnRyZWUgKHJvd19yZXNvdXJjZV9pZCk7XG5cbkNSRUFURSBVTklRVUUgSU5ERVggaWR4X3JlY29yZHNfcm93X2lkIE9OIF9fU0NIRU1BX18ucmVjb3JkcyBVU0lORyBidHJlZSAocm93X2lkKTtcblxuQ1JFQVRFIElOREVYIGlkeF9yZWNvcmRzX2Zvcm1fcmVzb3VyY2VfaWQgT04gX19TQ0hFTUFfXy5yZWNvcmRzIFVTSU5HIGJ0cmVlIChmb3JtX3Jlc291cmNlX2lkKTtcblxuQ1JFQVRFIElOREVYIGlkeF9yZWNvcmRzX2Fzc2lnbmVkX3RvX3Jlc291cmNlX2lkIE9OIF9fU0NIRU1BX18ucmVjb3JkcyBVU0lORyBidHJlZSAoYXNzaWduZWRfdG9fcmVzb3VyY2VfaWQpO1xuXG5DUkVBVEUgSU5ERVggaWR4X3JlY29yZHNfY2hhbmdlc2V0X3Jlc291cmNlX2lkIE9OIF9fU0NIRU1BX18ucmVjb3JkcyBVU0lORyBidHJlZSAoY2hhbmdlc2V0X3Jlc291cmNlX2lkKTtcblxuQ1JFQVRFIElOREVYIGlkeF9yZWNvcmRzX2dlb21ldHJ5IE9OIF9fU0NIRU1BX18ucmVjb3JkcyBVU0lORyBnaXN0IChnZW9tZXRyeSk7XG5cbkNSRUFURSBJTkRFWCBpZHhfcmVjb3Jkc19wcm9qZWN0X3Jlc291cmNlX2lkIE9OIF9fU0NIRU1BX18ucmVjb3JkcyBVU0lORyBidHJlZSAocHJvamVjdF9yZXNvdXJjZV9pZCk7XG5cbkNSRUFURSBJTkRFWCBpZHhfcmVjb3Jkc19yZWNvcmRfaW5kZXggT04gX19TQ0hFTUFfXy5yZWNvcmRzIFVTSU5HIGdpbiAocmVjb3JkX2luZGV4KTtcblxuQ1JFQVRFIElOREVYIGlkeF9yZWNvcmRzX3NlcnZlcl91cGRhdGVkX2F0IE9OIF9fU0NIRU1BX18ucmVjb3JkcyBVU0lORyBidHJlZSAoc2VydmVyX3VwZGF0ZWRfYXQpO1xuXG5DUkVBVEUgSU5ERVggaWR4X3JlY29yZHNfc2VydmVyX2NyZWF0ZWRfYXQgT04gX19TQ0hFTUFfXy5yZWNvcmRzIFVTSU5HIGJ0cmVlIChzZXJ2ZXJfY3JlYXRlZF9hdCk7XG5cbkNSRUFURSBJTkRFWCBpZHhfcmVjb3Jkc19zdGF0dXMgT04gX19TQ0hFTUFfXy5yZWNvcmRzIFVTSU5HIGJ0cmVlIChzdGF0dXMpO1xuXG5JTlNFUlQgSU5UTyBfX1NDSEVNQV9fLm1pZ3JhdGlvbnMgKG5hbWUpIFZBTFVFUyAoJzAwMicpO1xuXG5BTFRFUiBUQUJMRSBfX1NDSEVNQV9fLmF1ZGlvIFJFTkFNRSBUTyBzeXN0ZW1fYXVkaW87XG5BTFRFUiBUQUJMRSBfX1NDSEVNQV9fLmNoYW5nZXNldHMgUkVOQU1FIFRPIHN5c3RlbV9jaGFuZ2VzZXRzO1xuQUxURVIgVEFCTEUgX19TQ0hFTUFfXy5jaG9pY2VfbGlzdHMgUkVOQU1FIFRPIHN5c3RlbV9jaG9pY2VfbGlzdHM7XG5BTFRFUiBUQUJMRSBfX1NDSEVNQV9fLmNsYXNzaWZpY2F0aW9uX3NldHMgUkVOQU1FIFRPIHN5c3RlbV9jbGFzc2lmaWNhdGlvbl9zZXRzO1xuQUxURVIgVEFCTEUgX19TQ0hFTUFfXy5mb3JtcyBSRU5BTUUgVE8gc3lzdGVtX2Zvcm1zO1xuQUxURVIgVEFCTEUgX19TQ0hFTUFfXy5tZW1iZXJzaGlwcyBSRU5BTUUgVE8gc3lzdGVtX21lbWJlcnNoaXBzO1xuQUxURVIgVEFCTEUgX19TQ0hFTUFfXy5waG90b3MgUkVOQU1FIFRPIHN5c3RlbV9waG90b3M7XG5BTFRFUiBUQUJMRSBfX1NDSEVNQV9fLnByb2plY3RzIFJFTkFNRSBUTyBzeXN0ZW1fcHJvamVjdHM7XG5BTFRFUiBUQUJMRSBfX1NDSEVNQV9fLnJvbGVzIFJFTkFNRSBUTyBzeXN0ZW1fcm9sZXM7XG5BTFRFUiBUQUJMRSBfX1NDSEVNQV9fLnNpZ25hdHVyZXMgUkVOQU1FIFRPIHN5c3RlbV9zaWduYXR1cmVzO1xuQUxURVIgVEFCTEUgX19TQ0hFTUFfXy52aWRlb3MgUkVOQU1FIFRPIHN5c3RlbV92aWRlb3M7XG5BTFRFUiBUQUJMRSBfX1NDSEVNQV9fLnJlY29yZHMgUkVOQU1FIFRPIHN5c3RlbV9yZWNvcmRzO1xuXG5DT01NSVQ7XG5gO1xuXG4iXX0=