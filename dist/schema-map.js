'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _pgFormat = require('pg-format');

var _pgFormat2 = _interopRequireDefault(_pgFormat);

var _wellknown = require('wellknown');

var _wellknown2 = _interopRequireDefault(_wellknown);

var _fulcrumDesktopPlugin = require('fulcrum-desktop-plugin');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

class SchemaMap {
  // * force 2d
  // * remove duplicate vertices
  static geomFromGeoJSON(geojsonGeometry) {
    if (geojsonGeometry == null) {
      return null;
    }

    return `ST_RemoveRepeatedPoints(ST_Force2D(ST_GeomFromText(${(0, _pgFormat2.default)('%L', _wellknown2.default.stringify(geojsonGeometry))}, 4326)))`;
  }

  // * force to multi
  // * force 2d
  // * remove duplicate vertices
  static multiGeomFromGeoJSON(geojsonGeometry) {
    if (geojsonGeometry == null) {
      return null;
    }

    return `ST_RemoveRepeatedPoints(ST_Force2D(ST_Multi(ST_GeomFromText(${(0, _pgFormat2.default)('%L', _wellknown2.default.stringify(geojsonGeometry))}, 4326))))`;
  }

  static geometry(latitude, longitude) {
    return { raw: this.geomFromGeoJSON({ type: 'Point', coordinates: [+longitude, +latitude] }) };
  }

  static trackGeometry(trackJSON) {
    if (trackJSON) {
      const track = new _fulcrumDesktopPlugin.core.Track('video', trackJSON);

      const geoJSON = track.toGeoJSONMultiLineString();

      if (geoJSON && geoJSON.geometry && geoJSON.geometry.coordinates.length && geoJSON.geometry.coordinates[0].length > 1) {
        return { raw: this.multiGeomFromGeoJSON(geoJSON) };
      }
    }

    return null;
  }

  static jsonValue(value) {
    return value != null ? JSON.stringify(value) : null;
  }

  static record(row, values) {
    // records are special since they're already table-ized in a different code path.
    return {
      row_id: row.rowID,
      row_resource_id: values.record_resource_id,
      form_id: row._formRowID,
      form_resource_id: row.formID,
      project_id: row._projectRowID,
      project_resource_id: row._projectID,
      assigned_to_id: row._assignedToRowID,
      assigned_to_resource_id: row._assignedToID,
      status: values.status,
      latitude: values.latitude,
      longitude: values.longitude,
      created_at: values.created_at,
      updated_at: values.updated_at,
      version: values.version,
      created_by_id: row._createdByRowID,
      created_by_resource_id: row._createdByID,
      updated_by_id: row._updatedByRowID,
      updated_by_resource_id: row._updatedByID,
      server_created_at: values.server_created_at,
      server_updated_at: values.server_updated_at,
      record_index_text: values.record_index_text,
      record_index: values.record_index,
      geometry: values.geometry,
      altitude: values.altitude,
      speed: values.speed,
      course: values.course,
      horizontal_accuracy: values.horizontal_accuracy,
      vertical_accuracy: values.vertical_accuracy,
      form_values: values.form_values,
      changeset_id: row._changesetRowID,
      changeset_resource_id: row._changesetID,
      title: row.displayValue,
      created_latitude: values.created_latitude,
      created_longitude: values.created_longitude,
      created_geometry: values.created_geometry,
      created_altitude: values.created_altitude,
      created_horizontal_accuracy: values.created_horizontal_accuracy,
      updated_latitude: values.updated_latitude,
      updated_longitude: values.updated_longitude,
      updated_geometry: values.updated_geometry,
      updated_altitude: values.updated_altitude,
      updated_horizontal_accuracy: values.updated_horizontal_accuracy,
      created_duration: values.created_duration,
      updated_duration: values.updated_duration,
      edited_duration: values.edited_duration
    };
  }

  static photo(row) {
    const hasLocation = row._latitude != null && row._longitude != null;

    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      access_key: row.id,
      record_id: row._recordRowID,
      record_resource_id: row._recordID,
      form_id: row._formRowID,
      form_resource_id: row._formID,
      exif: this.jsonValue(row._exif),
      file_size: row._fileSize,
      created_by_id: row._createdByRowID,
      created_by_resource_id: row._createdByID,
      updated_by_id: row._updatedByRowID,
      updated_by_resource_id: row._updatedByID,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      file: row._filePath,
      content_type: row._contentType,
      is_uploaded: row._isUploaded,
      is_stored: row._isStored,
      is_processed: row._isProcessed,
      geometry: hasLocation ? this.geometry(row._latitude, row._longitude) : null,
      latitude: hasLocation ? row._latitude : null,
      longitude: hasLocation ? row._longitude : null,
      altitude: row._altitude,
      direction: row._direction,
      accuracy: row._accuracy,
      width: row._width,
      height: row._height,
      make: row._make,
      model: row._model,
      software: row._software,
      date_time: row._dateTime
    };
  }

  static video(row) {
    return {
      row_id: row._rowID,
      row_resource_id: row.id,
      access_key: row.id,
      record_id: row._recordRowID,
      record_resource_id: row._recordID,
      form_id: row._formRowID,
      form_resource_id: row._formID,
      metadata: this.jsonValue(row._metadata),
      has_track: row._hasTrack,
      track: this.jsonValue(row._trackJSON),
      file_size: row._fileSize,
      created_by_id: row._createdByRowID,
      created_by_resource_id: row._createdByID,
      updated_by_id: row._updatedByRowID,
      updated_by_resource_id: row._updatedByID,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      file: row._filePath,
      content_type: row._contentType,
      is_uploaded: row._isUploaded,
      is_stored: row._isStored,
      is_processed: row._isProcessed,
      geometry: this.trackGeometry(row._trackJSON),
      width: row._width,
      height: row._height,
      duration: row._duration,
      bit_rate: row._bitRate
    };
  }

  static audio(row) {
    return {
      row_id: row._rowID,
      row_resource_id: row.id,
      access_key: row.id,
      record_id: row._recordRowID,
      record_resource_id: row._recordID,
      form_id: row._formRowID,
      form_resource_id: row._formID,
      metadata: this.jsonValue(row._metadata),
      has_track: row._hasTrack,
      track: this.jsonValue(row._trackJSON),
      file_size: row._fileSize,
      created_by_id: row._createdByRowID,
      created_by_resource_id: row._createdByID,
      updated_by_id: row._updatedByRowID,
      updated_by_resource_id: row._updatedByID,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      file: row._filePath,
      content_type: row._contentType,
      is_uploaded: row._isUploaded,
      is_stored: row._isStored,
      is_processed: row._isProcessed,
      geometry: this.trackGeometry(row._trackJSON),
      duration: row._duration,
      bit_rate: row._bitRate
    };
  }

  static changeset(row) {
    const geometry = this.geomFromGeoJSON(row.boundingBoxAsGeoJSON);

    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      form_id: row._formRowID,
      form_resource_id: row._formID,
      metadata: this.jsonValue(row._metadata),
      closed_at: row._closedAt,
      created_by_id: row._createdByRowID,
      created_by_resource_id: row._createdByID,
      updated_by_id: row._updatedByRowID,
      updated_by_resource_id: row._updatedByID,
      closed_by_id: row._closedByRowID,
      closed_by_resource_id: row._closedByID,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      min_lat: row._minLat,
      max_lat: row._maxLat,
      min_lon: row._minLon,
      max_lon: row._maxLon,
      number_of_changes: row._numberOfChanges,
      number_of_creates: row._numberOfCreates,
      number_of_updates: row._numberOfUpdated,
      number_of_deletes: row._numberOfDeletes,
      metadata_index_text: row._metadataIndexText,
      metadata_index: { raw: `to_tsvector(${(0, _pgFormat2.default)('%L', row._metadataIndexText)})` },
      bounding_box: geometry ? { raw: this.geomFromGeoJSON(row.boundingBoxAsGeoJSON) } : null
    };
  }

  static choiceList(row) {
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      name: row._name,
      description: row._description,
      version: row._version,
      items: this.jsonValue(row._choicesJSON),
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      deleted_at: row._deletedAt
    };
  }

  static classificationSet(row) {
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      name: row._name,
      description: row._description,
      version: row._version,
      items: this.jsonValue(row._itemsJSON),
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      deleted_at: row._deletedAt
    };
  }

  static form(row) {
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      name: row._name,
      description: row._description,
      version: row._version,
      elements: this.jsonValue(row._elementsJSON),
      status: row._status,
      status_field: this.jsonValue(row._statusFieldJSON),
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      deleted_at: row._deletedAt,
      auto_assign: row._autoAssign,
      title_field_keys: this.jsonValue(row._titleFieldKeys),
      hidden_on_dashboard: row._hiddenOnDashboard,
      geometry_types: this.jsonValue(row._geometryTypes),
      geometry_required: row._geometryRequired,
      script: row._script,
      image: row._image,
      projects_enabled: !!row._projectEnabled,
      assignment_enabled: !!row._assignmentEnabled
    };
  }

  static project(row) {
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      name: row._name,
      description: row._description,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      deleted_at: row._deletedAt
    };
  }

  static role(row) {
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      name: row._name,
      description: row._description,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      deleted_at: row._deletedAt,
      is_system: row._isSystem,
      is_default: row._isDefault,
      can_manage_subscription: row.canManageSubscription,
      can_update_organization: row.canUpdateOrganization,
      can_manage_members: row.canManageMembers,
      can_manage_roles: row.canManageRoles,
      can_manage_apps: row.canManageApps,
      can_manage_projects: row.canManageProjects,
      can_manage_choice_lists: row.canManageChoiceLists,
      can_manage_classification_sets: row.canManageClassificationSets,
      can_create_records: row.canCreateRecords,
      can_update_records: row.canUpdateRecords,
      can_delete_records: row.canDeleteRecords,
      can_change_status: row.canChangeStatus,
      can_change_project: row.canChangeProject,
      can_assign_records: row.canAssignRecords,
      can_import_records: row.canImportRecords,
      can_export_records: row.canExportRecords,
      can_run_reports: row.canRunReports
    };
  }

  static membership(row) {
    return {
      row_id: row.rowID,
      row_resource_id: row.id,
      user_resource_id: row._userID,
      first_name: row._firstName,
      last_name: row._lastName,
      name: (row._firstName || '') + ' ' + (row._lastName || ''),
      email: row._email,
      role_id: row._roleRowID,
      role_resource_id: row._roleID,
      status: row.status,
      created_at: row._createdAt,
      updated_at: row._updatedAt,
      deleted_at: row._deletedAt
    };
  }
}
exports.default = SchemaMap;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NjaGVtYS1tYXAuanMiXSwibmFtZXMiOlsiU2NoZW1hTWFwIiwiZ2VvbUZyb21HZW9KU09OIiwiZ2VvanNvbkdlb21ldHJ5Iiwic3RyaW5naWZ5IiwibXVsdGlHZW9tRnJvbUdlb0pTT04iLCJnZW9tZXRyeSIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwicmF3IiwidHlwZSIsImNvb3JkaW5hdGVzIiwidHJhY2tHZW9tZXRyeSIsInRyYWNrSlNPTiIsInRyYWNrIiwiVHJhY2siLCJnZW9KU09OIiwidG9HZW9KU09OTXVsdGlMaW5lU3RyaW5nIiwibGVuZ3RoIiwianNvblZhbHVlIiwidmFsdWUiLCJKU09OIiwicmVjb3JkIiwicm93IiwidmFsdWVzIiwicm93X2lkIiwicm93SUQiLCJyb3dfcmVzb3VyY2VfaWQiLCJyZWNvcmRfcmVzb3VyY2VfaWQiLCJmb3JtX2lkIiwiX2Zvcm1Sb3dJRCIsImZvcm1fcmVzb3VyY2VfaWQiLCJmb3JtSUQiLCJwcm9qZWN0X2lkIiwiX3Byb2plY3RSb3dJRCIsInByb2plY3RfcmVzb3VyY2VfaWQiLCJfcHJvamVjdElEIiwiYXNzaWduZWRfdG9faWQiLCJfYXNzaWduZWRUb1Jvd0lEIiwiYXNzaWduZWRfdG9fcmVzb3VyY2VfaWQiLCJfYXNzaWduZWRUb0lEIiwic3RhdHVzIiwiY3JlYXRlZF9hdCIsInVwZGF0ZWRfYXQiLCJ2ZXJzaW9uIiwiY3JlYXRlZF9ieV9pZCIsIl9jcmVhdGVkQnlSb3dJRCIsImNyZWF0ZWRfYnlfcmVzb3VyY2VfaWQiLCJfY3JlYXRlZEJ5SUQiLCJ1cGRhdGVkX2J5X2lkIiwiX3VwZGF0ZWRCeVJvd0lEIiwidXBkYXRlZF9ieV9yZXNvdXJjZV9pZCIsIl91cGRhdGVkQnlJRCIsInNlcnZlcl9jcmVhdGVkX2F0Iiwic2VydmVyX3VwZGF0ZWRfYXQiLCJyZWNvcmRfaW5kZXhfdGV4dCIsInJlY29yZF9pbmRleCIsImFsdGl0dWRlIiwic3BlZWQiLCJjb3Vyc2UiLCJob3Jpem9udGFsX2FjY3VyYWN5IiwidmVydGljYWxfYWNjdXJhY3kiLCJmb3JtX3ZhbHVlcyIsImNoYW5nZXNldF9pZCIsIl9jaGFuZ2VzZXRSb3dJRCIsImNoYW5nZXNldF9yZXNvdXJjZV9pZCIsIl9jaGFuZ2VzZXRJRCIsInRpdGxlIiwiZGlzcGxheVZhbHVlIiwiY3JlYXRlZF9sYXRpdHVkZSIsImNyZWF0ZWRfbG9uZ2l0dWRlIiwiY3JlYXRlZF9nZW9tZXRyeSIsImNyZWF0ZWRfYWx0aXR1ZGUiLCJjcmVhdGVkX2hvcml6b250YWxfYWNjdXJhY3kiLCJ1cGRhdGVkX2xhdGl0dWRlIiwidXBkYXRlZF9sb25naXR1ZGUiLCJ1cGRhdGVkX2dlb21ldHJ5IiwidXBkYXRlZF9hbHRpdHVkZSIsInVwZGF0ZWRfaG9yaXpvbnRhbF9hY2N1cmFjeSIsImNyZWF0ZWRfZHVyYXRpb24iLCJ1cGRhdGVkX2R1cmF0aW9uIiwiZWRpdGVkX2R1cmF0aW9uIiwicGhvdG8iLCJoYXNMb2NhdGlvbiIsIl9sYXRpdHVkZSIsIl9sb25naXR1ZGUiLCJpZCIsImFjY2Vzc19rZXkiLCJyZWNvcmRfaWQiLCJfcmVjb3JkUm93SUQiLCJfcmVjb3JkSUQiLCJfZm9ybUlEIiwiZXhpZiIsIl9leGlmIiwiZmlsZV9zaXplIiwiX2ZpbGVTaXplIiwiX2NyZWF0ZWRBdCIsIl91cGRhdGVkQXQiLCJmaWxlIiwiX2ZpbGVQYXRoIiwiY29udGVudF90eXBlIiwiX2NvbnRlbnRUeXBlIiwiaXNfdXBsb2FkZWQiLCJfaXNVcGxvYWRlZCIsImlzX3N0b3JlZCIsIl9pc1N0b3JlZCIsImlzX3Byb2Nlc3NlZCIsIl9pc1Byb2Nlc3NlZCIsIl9hbHRpdHVkZSIsImRpcmVjdGlvbiIsIl9kaXJlY3Rpb24iLCJhY2N1cmFjeSIsIl9hY2N1cmFjeSIsIndpZHRoIiwiX3dpZHRoIiwiaGVpZ2h0IiwiX2hlaWdodCIsIm1ha2UiLCJfbWFrZSIsIm1vZGVsIiwiX21vZGVsIiwic29mdHdhcmUiLCJfc29mdHdhcmUiLCJkYXRlX3RpbWUiLCJfZGF0ZVRpbWUiLCJ2aWRlbyIsIl9yb3dJRCIsIm1ldGFkYXRhIiwiX21ldGFkYXRhIiwiaGFzX3RyYWNrIiwiX2hhc1RyYWNrIiwiX3RyYWNrSlNPTiIsImR1cmF0aW9uIiwiX2R1cmF0aW9uIiwiYml0X3JhdGUiLCJfYml0UmF0ZSIsImF1ZGlvIiwiY2hhbmdlc2V0IiwiYm91bmRpbmdCb3hBc0dlb0pTT04iLCJjbG9zZWRfYXQiLCJfY2xvc2VkQXQiLCJjbG9zZWRfYnlfaWQiLCJfY2xvc2VkQnlSb3dJRCIsImNsb3NlZF9ieV9yZXNvdXJjZV9pZCIsIl9jbG9zZWRCeUlEIiwibWluX2xhdCIsIl9taW5MYXQiLCJtYXhfbGF0IiwiX21heExhdCIsIm1pbl9sb24iLCJfbWluTG9uIiwibWF4X2xvbiIsIl9tYXhMb24iLCJudW1iZXJfb2ZfY2hhbmdlcyIsIl9udW1iZXJPZkNoYW5nZXMiLCJudW1iZXJfb2ZfY3JlYXRlcyIsIl9udW1iZXJPZkNyZWF0ZXMiLCJudW1iZXJfb2ZfdXBkYXRlcyIsIl9udW1iZXJPZlVwZGF0ZWQiLCJudW1iZXJfb2ZfZGVsZXRlcyIsIl9udW1iZXJPZkRlbGV0ZXMiLCJtZXRhZGF0YV9pbmRleF90ZXh0IiwiX21ldGFkYXRhSW5kZXhUZXh0IiwibWV0YWRhdGFfaW5kZXgiLCJib3VuZGluZ19ib3giLCJjaG9pY2VMaXN0IiwibmFtZSIsIl9uYW1lIiwiZGVzY3JpcHRpb24iLCJfZGVzY3JpcHRpb24iLCJfdmVyc2lvbiIsIml0ZW1zIiwiX2Nob2ljZXNKU09OIiwiZGVsZXRlZF9hdCIsIl9kZWxldGVkQXQiLCJjbGFzc2lmaWNhdGlvblNldCIsIl9pdGVtc0pTT04iLCJmb3JtIiwiZWxlbWVudHMiLCJfZWxlbWVudHNKU09OIiwiX3N0YXR1cyIsInN0YXR1c19maWVsZCIsIl9zdGF0dXNGaWVsZEpTT04iLCJhdXRvX2Fzc2lnbiIsIl9hdXRvQXNzaWduIiwidGl0bGVfZmllbGRfa2V5cyIsIl90aXRsZUZpZWxkS2V5cyIsImhpZGRlbl9vbl9kYXNoYm9hcmQiLCJfaGlkZGVuT25EYXNoYm9hcmQiLCJnZW9tZXRyeV90eXBlcyIsIl9nZW9tZXRyeVR5cGVzIiwiZ2VvbWV0cnlfcmVxdWlyZWQiLCJfZ2VvbWV0cnlSZXF1aXJlZCIsInNjcmlwdCIsIl9zY3JpcHQiLCJpbWFnZSIsIl9pbWFnZSIsInByb2plY3RzX2VuYWJsZWQiLCJfcHJvamVjdEVuYWJsZWQiLCJhc3NpZ25tZW50X2VuYWJsZWQiLCJfYXNzaWdubWVudEVuYWJsZWQiLCJwcm9qZWN0Iiwicm9sZSIsImlzX3N5c3RlbSIsIl9pc1N5c3RlbSIsImlzX2RlZmF1bHQiLCJfaXNEZWZhdWx0IiwiY2FuX21hbmFnZV9zdWJzY3JpcHRpb24iLCJjYW5NYW5hZ2VTdWJzY3JpcHRpb24iLCJjYW5fdXBkYXRlX29yZ2FuaXphdGlvbiIsImNhblVwZGF0ZU9yZ2FuaXphdGlvbiIsImNhbl9tYW5hZ2VfbWVtYmVycyIsImNhbk1hbmFnZU1lbWJlcnMiLCJjYW5fbWFuYWdlX3JvbGVzIiwiY2FuTWFuYWdlUm9sZXMiLCJjYW5fbWFuYWdlX2FwcHMiLCJjYW5NYW5hZ2VBcHBzIiwiY2FuX21hbmFnZV9wcm9qZWN0cyIsImNhbk1hbmFnZVByb2plY3RzIiwiY2FuX21hbmFnZV9jaG9pY2VfbGlzdHMiLCJjYW5NYW5hZ2VDaG9pY2VMaXN0cyIsImNhbl9tYW5hZ2VfY2xhc3NpZmljYXRpb25fc2V0cyIsImNhbk1hbmFnZUNsYXNzaWZpY2F0aW9uU2V0cyIsImNhbl9jcmVhdGVfcmVjb3JkcyIsImNhbkNyZWF0ZVJlY29yZHMiLCJjYW5fdXBkYXRlX3JlY29yZHMiLCJjYW5VcGRhdGVSZWNvcmRzIiwiY2FuX2RlbGV0ZV9yZWNvcmRzIiwiY2FuRGVsZXRlUmVjb3JkcyIsImNhbl9jaGFuZ2Vfc3RhdHVzIiwiY2FuQ2hhbmdlU3RhdHVzIiwiY2FuX2NoYW5nZV9wcm9qZWN0IiwiY2FuQ2hhbmdlUHJvamVjdCIsImNhbl9hc3NpZ25fcmVjb3JkcyIsImNhbkFzc2lnblJlY29yZHMiLCJjYW5faW1wb3J0X3JlY29yZHMiLCJjYW5JbXBvcnRSZWNvcmRzIiwiY2FuX2V4cG9ydF9yZWNvcmRzIiwiY2FuRXhwb3J0UmVjb3JkcyIsImNhbl9ydW5fcmVwb3J0cyIsImNhblJ1blJlcG9ydHMiLCJtZW1iZXJzaGlwIiwidXNlcl9yZXNvdXJjZV9pZCIsIl91c2VySUQiLCJmaXJzdF9uYW1lIiwiX2ZpcnN0TmFtZSIsImxhc3RfbmFtZSIsIl9sYXN0TmFtZSIsImVtYWlsIiwiX2VtYWlsIiwicm9sZV9pZCIsIl9yb2xlUm93SUQiLCJyb2xlX3Jlc291cmNlX2lkIiwiX3JvbGVJRCJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBRWUsTUFBTUEsU0FBTixDQUFnQjtBQUM3QjtBQUNBO0FBQ0EsU0FBT0MsZUFBUCxDQUF1QkMsZUFBdkIsRUFBd0M7QUFDdEMsUUFBSUEsbUJBQW1CLElBQXZCLEVBQTZCO0FBQzNCLGFBQU8sSUFBUDtBQUNEOztBQUVELFdBQVEsc0RBQXNELHdCQUFTLElBQVQsRUFBZSxvQkFBSUMsU0FBSixDQUFjRCxlQUFkLENBQWYsQ0FBZ0QsV0FBOUc7QUFDRDs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxTQUFPRSxvQkFBUCxDQUE0QkYsZUFBNUIsRUFBNkM7QUFDM0MsUUFBSUEsbUJBQW1CLElBQXZCLEVBQTZCO0FBQzNCLGFBQU8sSUFBUDtBQUNEOztBQUVELFdBQVEsK0RBQStELHdCQUFTLElBQVQsRUFBZSxvQkFBSUMsU0FBSixDQUFjRCxlQUFkLENBQWYsQ0FBZ0QsWUFBdkg7QUFDRDs7QUFFRCxTQUFPRyxRQUFQLENBQWdCQyxRQUFoQixFQUEwQkMsU0FBMUIsRUFBcUM7QUFDbkMsV0FBTyxFQUFFQyxLQUFLLEtBQUtQLGVBQUwsQ0FBcUIsRUFBQ1EsTUFBTSxPQUFQLEVBQWdCQyxhQUFhLENBQUUsQ0FBQ0gsU0FBSCxFQUFjLENBQUNELFFBQWYsQ0FBN0IsRUFBckIsQ0FBUCxFQUFQO0FBQ0Q7O0FBRUQsU0FBT0ssYUFBUCxDQUFxQkMsU0FBckIsRUFBZ0M7QUFDOUIsUUFBSUEsU0FBSixFQUFlO0FBQ2IsWUFBTUMsUUFB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QUFKLElBQWtCLEVBQW5CLElBQXlCLEdBQXpCLElBQWdDOU4sSUFBSWdPLFNBQUosSUFBaUIsRUFBakQsQ0FORDtBQU9MQyxhQUFPak8sSUFBSWtPLE1BUE47QUFRTEMsZUFBU25PLElBQUlvTyxVQVJSO0FBU0xDLHdCQUFrQnJPLElBQUlzTyxPQVRqQjtBQVVMcE4sY0FBUWxCLElBQUlrQixNQVZQO0FBV0xDLGtCQUFZbkIsSUFBSXlFLFVBWFg7QUFZTHJELGtCQUFZcEIsSUFBSTBFLFVBWlg7QUFhTDRFLGtCQUFZdEosSUFBSXVKO0FBYlgsS0FBUDtBQWVEO0FBcFY0QjtrQkFBVjdLLFMiLCJmaWxlIjoic2NoZW1hLW1hcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwZ2Zvcm1hdCBmcm9tICdwZy1mb3JtYXQnO1xuaW1wb3J0IHdrdCBmcm9tICd3ZWxsa25vd24nO1xuaW1wb3J0IHsgY29yZSB9IGZyb20gJ2Z1bGNydW0nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY2hlbWFNYXAge1xuICAvLyAqIGZvcmNlIDJkXG4gIC8vICogcmVtb3ZlIGR1cGxpY2F0ZSB2ZXJ0aWNlc1xuICBzdGF0aWMgZ2VvbUZyb21HZW9KU09OKGdlb2pzb25HZW9tZXRyeSkge1xuICAgIGlmIChnZW9qc29uR2VvbWV0cnkgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGBTVF9SZW1vdmVSZXBlYXRlZFBvaW50cyhTVF9Gb3JjZTJEKFNUX0dlb21Gcm9tVGV4dCgkeyBwZ2Zvcm1hdCgnJUwnLCB3a3Quc3RyaW5naWZ5KGdlb2pzb25HZW9tZXRyeSkpIH0sIDQzMjYpKSlgO1xuICB9XG5cbiAgLy8gKiBmb3JjZSB0byBtdWx0aVxuICAvLyAqIGZvcmNlIDJkXG4gIC8vICogcmVtb3ZlIGR1cGxpY2F0ZSB2ZXJ0aWNlc1xuICBzdGF0aWMgbXVsdGlHZW9tRnJvbUdlb0pTT04oZ2VvanNvbkdlb21ldHJ5KSB7XG4gICAgaWYgKGdlb2pzb25HZW9tZXRyeSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gYFNUX1JlbW92ZVJlcGVhdGVkUG9pbnRzKFNUX0ZvcmNlMkQoU1RfTXVsdGkoU1RfR2VvbUZyb21UZXh0KCR7IHBnZm9ybWF0KCclTCcsIHdrdC5zdHJpbmdpZnkoZ2VvanNvbkdlb21ldHJ5KSkgfSwgNDMyNikpKSlgO1xuICB9XG5cbiAgc3RhdGljIGdlb21ldHJ5KGxhdGl0dWRlLCBsb25naXR1ZGUpIHtcbiAgICByZXR1cm4geyByYXc6IHRoaXMuZ2VvbUZyb21HZW9KU09OKHt0eXBlOiAnUG9pbnQnLCBjb29yZGluYXRlczogWyArbG9uZ2l0dWRlLCArbGF0aXR1ZGUgXX0pIH07XG4gIH1cblxuICBzdGF0aWMgdHJhY2tHZW9tZXRyeSh0cmFja0pTT04pIHtcbiAgICBpZiAodHJhY2tKU09OKSB7XG4gICAgICBjb25zdCB0cmFjayA9IG5ldyBjb3JlLlRyYWNrKCd2aWRlbycsIHRyYWNrSlNPTik7XG5cbiAgICAgIGNvbnN0IGdlb0pTT04gPSB0cmFjay50b0dlb0pTT05NdWx0aUxpbmVTdHJpbmcoKTtcblxuICAgICAgaWYgKGdlb0pTT04gJiYgZ2VvSlNPTi5nZW9tZXRyeSAmJiBnZW9KU09OLmdlb21ldHJ5LmNvb3JkaW5hdGVzLmxlbmd0aCAmJiBnZW9KU09OLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgcmV0dXJuIHsgcmF3OiB0aGlzLm11bHRpR2VvbUZyb21HZW9KU09OKGdlb0pTT04pIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBzdGF0aWMganNvblZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9IG51bGwgPyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgOiBudWxsO1xuICB9XG5cbiAgc3RhdGljIHJlY29yZChyb3csIHZhbHVlcykge1xuICAgIC8vIHJlY29yZHMgYXJlIHNwZWNpYWwgc2luY2UgdGhleSdyZSBhbHJlYWR5IHRhYmxlLWl6ZWQgaW4gYSBkaWZmZXJlbnQgY29kZSBwYXRoLlxuICAgIHJldHVybiB7XG4gICAgICByb3dfaWQ6IHJvdy5yb3dJRCxcbiAgICAgIHJvd19yZXNvdXJjZV9pZDogdmFsdWVzLnJlY29yZF9yZXNvdXJjZV9pZCxcbiAgICAgIGZvcm1faWQ6IHJvdy5fZm9ybVJvd0lELFxuICAgICAgZm9ybV9yZXNvdXJjZV9pZDogcm93LmZvcm1JRCxcbiAgICAgIHByb2plY3RfaWQ6IHJvdy5fcHJvamVjdFJvd0lELFxuICAgICAgcHJvamVjdF9yZXNvdXJjZV9pZDogcm93Ll9wcm9qZWN0SUQsXG4gICAgICBhc3NpZ25lZF90b19pZDogcm93Ll9hc3NpZ25lZFRvUm93SUQsXG4gICAgICBhc3NpZ25lZF90b19yZXNvdXJjZV9pZDogcm93Ll9hc3NpZ25lZFRvSUQsXG4gICAgICBzdGF0dXM6IHZhbHVlcy5zdGF0dXMsXG4gICAgICBsYXRpdHVkZTogdmFsdWVzLmxhdGl0dWRlLFxuICAgICAgbG9uZ2l0dWRlOiB2YWx1ZXMubG9uZ2l0dWRlLFxuICAgICAgY3JlYXRlZF9hdDogdmFsdWVzLmNyZWF0ZWRfYXQsXG4gICAgICB1cGRhdGVkX2F0OiB2YWx1ZXMudXBkYXRlZF9hdCxcbiAgICAgIHZlcnNpb246IHZhbHVlcy52ZXJzaW9uLFxuICAgICAgY3JlYXRlZF9ieV9pZDogcm93Ll9jcmVhdGVkQnlSb3dJRCxcbiAgICAgIGNyZWF0ZWRfYnlfcmVzb3VyY2VfaWQ6IHJvdy5fY3JlYXRlZEJ5SUQsXG4gICAgICB1cGRhdGVkX2J5X2lkOiByb3cuX3VwZGF0ZWRCeVJvd0lELFxuICAgICAgdXBkYXRlZF9ieV9yZXNvdXJjZV9pZDogcm93Ll91cGRhdGVkQnlJRCxcbiAgICAgIHNlcnZlcl9jcmVhdGVkX2F0OiB2YWx1ZXMuc2VydmVyX2NyZWF0ZWRfYXQsXG4gICAgICBzZXJ2ZXJfdXBkYXRlZF9hdDogdmFsdWVzLnNlcnZlcl91cGRhdGVkX2F0LFxuICAgICAgcmVjb3JkX2luZGV4X3RleHQ6IHZhbHVlcy5yZWNvcmRfaW5kZXhfdGV4dCxcbiAgICAgIHJlY29yZF9pbmRleDogdmFsdWVzLnJlY29yZF9pbmRleCxcbiAgICAgIGdlb21ldHJ5OiB2YWx1ZXMuZ2VvbWV0cnksXG4gICAgICBhbHRpdHVkZTogdmFsdWVzLmFsdGl0dWRlLFxuICAgICAgc3BlZWQ6IHZhbHVlcy5zcGVlZCxcbiAgICAgIGNvdXJzZTogdmFsdWVzLmNvdXJzZSxcbiAgICAgIGhvcml6b250YWxfYWNjdXJhY3k6IHZhbHVlcy5ob3Jpem9udGFsX2FjY3VyYWN5LFxuICAgICAgdmVydGljYWxfYWNjdXJhY3k6IHZhbHVlcy52ZXJ0aWNhbF9hY2N1cmFjeSxcbiAgICAgIGZvcm1fdmFsdWVzOiB2YWx1ZXMuZm9ybV92YWx1ZXMsXG4gICAgICBjaGFuZ2VzZXRfaWQ6IHJvdy5fY2hhbmdlc2V0Um93SUQsXG4gICAgICBjaGFuZ2VzZXRfcmVzb3VyY2VfaWQ6IHJvdy5fY2hhbmdlc2V0SUQsXG4gICAgICB0aXRsZTogcm93LmRpc3BsYXlWYWx1ZSxcbiAgICAgIGNyZWF0ZWRfbGF0aXR1ZGU6IHZhbHVlcy5jcmVhdGVkX2xhdGl0dWRlLFxuICAgICAgY3JlYXRlZF9sb25naXR1ZGU6IHZhbHVlcy5jcmVhdGVkX2xvbmdpdHVkZSxcbiAgICAgIGNyZWF0ZWRfZ2VvbWV0cnk6IHZhbHVlcy5jcmVhdGVkX2dlb21ldHJ5LFxuICAgICAgY3JlYXRlZF9hbHRpdHVkZTogdmFsdWVzLmNyZWF0ZWRfYWx0aXR1ZGUsXG4gICAgICBjcmVhdGVkX2hvcml6b250YWxfYWNjdXJhY3k6IHZhbHVlcy5jcmVhdGVkX2hvcml6b250YWxfYWNjdXJhY3ksXG4gICAgICB1cGRhdGVkX2xhdGl0dWRlOiB2YWx1ZXMudXBkYXRlZF9sYXRpdHVkZSxcbiAgICAgIHVwZGF0ZWRfbG9uZ2l0dWRlOiB2YWx1ZXMudXBkYXRlZF9sb25naXR1ZGUsXG4gICAgICB1cGRhdGVkX2dlb21ldHJ5OiB2YWx1ZXMudXBkYXRlZF9nZW9tZXRyeSxcbiAgICAgIHVwZGF0ZWRfYWx0aXR1ZGU6IHZhbHVlcy51cGRhdGVkX2FsdGl0dWRlLFxuICAgICAgdXBkYXRlZF9ob3Jpem9udGFsX2FjY3VyYWN5OiB2YWx1ZXMudXBkYXRlZF9ob3Jpem9udGFsX2FjY3VyYWN5LFxuICAgICAgY3JlYXRlZF9kdXJhdGlvbjogdmFsdWVzLmNyZWF0ZWRfZHVyYXRpb24sXG4gICAgICB1cGRhdGVkX2R1cmF0aW9uOiB2YWx1ZXMudXBkYXRlZF9kdXJhdGlvbixcbiAgICAgIGVkaXRlZF9kdXJhdGlvbjogdmFsdWVzLmVkaXRlZF9kdXJhdGlvblxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgcGhvdG8ocm93KSB7XG4gICAgY29uc3QgaGFzTG9jYXRpb24gPSByb3cuX2xhdGl0dWRlICE9IG51bGwgJiYgcm93Ll9sb25naXR1ZGUgIT0gbnVsbDtcblxuICAgIHJldHVybiB7XG4gICAgICByb3dfaWQ6IHJvdy5yb3dJRCxcbiAgICAgIHJvd19yZXNvdXJjZV9pZDogcm93LmlkLFxuICAgICAgYWNjZXNzX2tleTogcm93LmlkLFxuICAgICAgcmVjb3JkX2lkOiByb3cuX3JlY29yZFJvd0lELFxuICAgICAgcmVjb3JkX3Jlc291cmNlX2lkOiByb3cuX3JlY29yZElELFxuICAgICAgZm9ybV9pZDogcm93Ll9mb3JtUm93SUQsXG4gICAgICBmb3JtX3Jlc291cmNlX2lkOiByb3cuX2Zvcm1JRCxcbiAgICAgIGV4aWY6IHRoaXMuanNvblZhbHVlKHJvdy5fZXhpZiksXG4gICAgICBmaWxlX3NpemU6IHJvdy5fZmlsZVNpemUsXG4gICAgICBjcmVhdGVkX2J5X2lkOiByb3cuX2NyZWF0ZWRCeVJvd0lELFxuICAgICAgY3JlYXRlZF9ieV9yZXNvdXJjZV9pZDogcm93Ll9jcmVhdGVkQnlJRCxcbiAgICAgIHVwZGF0ZWRfYnlfaWQ6IHJvdy5fdXBkYXRlZEJ5Um93SUQsXG4gICAgICB1cGRhdGVkX2J5X3Jlc291cmNlX2lkOiByb3cuX3VwZGF0ZWRCeUlELFxuICAgICAgY3JlYXRlZF9hdDogcm93Ll9jcmVhdGVkQXQsXG4gICAgICB1cGRhdGVkX2F0OiByb3cuX3VwZGF0ZWRBdCxcbiAgICAgIGZpbGU6IHJvdy5fZmlsZVBhdGgsXG4gICAgICBjb250ZW50X3R5cGU6IHJvdy5fY29udGVudFR5cGUsXG4gICAgICBpc191cGxvYWRlZDogcm93Ll9pc1VwbG9hZGVkLFxuICAgICAgaXNfc3RvcmVkOiByb3cuX2lzU3RvcmVkLFxuICAgICAgaXNfcHJvY2Vzc2VkOiByb3cuX2lzUHJvY2Vzc2VkLFxuICAgICAgZ2VvbWV0cnk6IGhhc0xvY2F0aW9uID8gdGhpcy5nZW9tZXRyeShyb3cuX2xhdGl0dWRlLCByb3cuX2xvbmdpdHVkZSkgOiBudWxsLFxuICAgICAgbGF0aXR1ZGU6IGhhc0xvY2F0aW9uID8gcm93Ll9sYXRpdHVkZSA6IG51bGwsXG4gICAgICBsb25naXR1ZGU6IGhhc0xvY2F0aW9uID8gcm93Ll9sb25naXR1ZGUgOiBudWxsLFxuICAgICAgYWx0aXR1ZGU6IHJvdy5fYWx0aXR1ZGUsXG4gICAgICBkaXJlY3Rpb246IHJvdy5fZGlyZWN0aW9uLFxuICAgICAgYWNjdXJhY3k6IHJvdy5fYWNjdXJhY3ksXG4gICAgICB3aWR0aDogcm93Ll93aWR0aCxcbiAgICAgIGhlaWdodDogcm93Ll9oZWlnaHQsXG4gICAgICBtYWtlOiByb3cuX21ha2UsXG4gICAgICBtb2RlbDogcm93Ll9tb2RlbCxcbiAgICAgIHNvZnR3YXJlOiByb3cuX3NvZnR3YXJlLFxuICAgICAgZGF0ZV90aW1lOiByb3cuX2RhdGVUaW1lXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyB2aWRlbyhyb3cpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcm93X2lkOiByb3cuX3Jvd0lELFxuICAgICAgcm93X3Jlc291cmNlX2lkOiByb3cuaWQsXG4gICAgICBhY2Nlc3Nfa2V5OiByb3cuaWQsXG4gICAgICByZWNvcmRfaWQ6IHJvdy5fcmVjb3JkUm93SUQsXG4gICAgICByZWNvcmRfcmVzb3VyY2VfaWQ6IHJvdy5fcmVjb3JkSUQsXG4gICAgICBmb3JtX2lkOiByb3cuX2Zvcm1Sb3dJRCxcbiAgICAgIGZvcm1fcmVzb3VyY2VfaWQ6IHJvdy5fZm9ybUlELFxuICAgICAgbWV0YWRhdGE6IHRoaXMuanNvblZhbHVlKHJvdy5fbWV0YWRhdGEpLFxuICAgICAgaGFzX3RyYWNrOiByb3cuX2hhc1RyYWNrLFxuICAgICAgdHJhY2s6IHRoaXMuanNvblZhbHVlKHJvdy5fdHJhY2tKU09OKSxcbiAgICAgIGZpbGVfc2l6ZTogcm93Ll9maWxlU2l6ZSxcbiAgICAgIGNyZWF0ZWRfYnlfaWQ6IHJvdy5fY3JlYXRlZEJ5Um93SUQsXG4gICAgICBjcmVhdGVkX2J5X3Jlc291cmNlX2lkOiByb3cuX2NyZWF0ZWRCeUlELFxuICAgICAgdXBkYXRlZF9ieV9pZDogcm93Ll91cGRhdGVkQnlSb3dJRCxcbiAgICAgIHVwZGF0ZWRfYnlfcmVzb3VyY2VfaWQ6IHJvdy5fdXBkYXRlZEJ5SUQsXG4gICAgICBjcmVhdGVkX2F0OiByb3cuX2NyZWF0ZWRBdCxcbiAgICAgIHVwZGF0ZWRfYXQ6IHJvdy5fdXBkYXRlZEF0LFxuICAgICAgZmlsZTogcm93Ll9maWxlUGF0aCxcbiAgICAgIGNvbnRlbnRfdHlwZTogcm93Ll9jb250ZW50VHlwZSxcbiAgICAgIGlzX3VwbG9hZGVkOiByb3cuX2lzVXBsb2FkZWQsXG4gICAgICBpc19zdG9yZWQ6IHJvdy5faXNTdG9yZWQsXG4gICAgICBpc19wcm9jZXNzZWQ6IHJvdy5faXNQcm9jZXNzZWQsXG4gICAgICBnZW9tZXRyeTogdGhpcy50cmFja0dlb21ldHJ5KHJvdy5fdHJhY2tKU09OKSxcbiAgICAgIHdpZHRoOiByb3cuX3dpZHRoLFxuICAgICAgaGVpZ2h0OiByb3cuX2hlaWdodCxcbiAgICAgIGR1cmF0aW9uOiByb3cuX2R1cmF0aW9uLFxuICAgICAgYml0X3JhdGU6IHJvdy5fYml0UmF0ZVxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgYXVkaW8ocm93KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvd19pZDogcm93Ll9yb3dJRCxcbiAgICAgIHJvd19yZXNvdXJjZV9pZDogcm93LmlkLFxuICAgICAgYWNjZXNzX2tleTogcm93LmlkLFxuICAgICAgcmVjb3JkX2lkOiByb3cuX3JlY29yZFJvd0lELFxuICAgICAgcmVjb3JkX3Jlc291cmNlX2lkOiByb3cuX3JlY29yZElELFxuICAgICAgZm9ybV9pZDogcm93Ll9mb3JtUm93SUQsXG4gICAgICBmb3JtX3Jlc291cmNlX2lkOiByb3cuX2Zvcm1JRCxcbiAgICAgIG1ldGFkYXRhOiB0aGlzLmpzb25WYWx1ZShyb3cuX21ldGFkYXRhKSxcbiAgICAgIGhhc190cmFjazogcm93Ll9oYXNUcmFjayxcbiAgICAgIHRyYWNrOiB0aGlzLmpzb25WYWx1ZShyb3cuX3RyYWNrSlNPTiksXG4gICAgICBmaWxlX3NpemU6IHJvdy5fZmlsZVNpemUsXG4gICAgICBjcmVhdGVkX2J5X2lkOiByb3cuX2NyZWF0ZWRCeVJvd0lELFxuICAgICAgY3JlYXRlZF9ieV9yZXNvdXJjZV9pZDogcm93Ll9jcmVhdGVkQnlJRCxcbiAgICAgIHVwZGF0ZWRfYnlfaWQ6IHJvdy5fdXBkYXRlZEJ5Um93SUQsXG4gICAgICB1cGRhdGVkX2J5X3Jlc291cmNlX2lkOiByb3cuX3VwZGF0ZWRCeUlELFxuICAgICAgY3JlYXRlZF9hdDogcm93Ll9jcmVhdGVkQXQsXG4gICAgICB1cGRhdGVkX2F0OiByb3cuX3VwZGF0ZWRBdCxcbiAgICAgIGZpbGU6IHJvdy5fZmlsZVBhdGgsXG4gICAgICBjb250ZW50X3R5cGU6IHJvdy5fY29udGVudFR5cGUsXG4gICAgICBpc191cGxvYWRlZDogcm93Ll9pc1VwbG9hZGVkLFxuICAgICAgaXNfc3RvcmVkOiByb3cuX2lzU3RvcmVkLFxuICAgICAgaXNfcHJvY2Vzc2VkOiByb3cuX2lzUHJvY2Vzc2VkLFxuICAgICAgZ2VvbWV0cnk6IHRoaXMudHJhY2tHZW9tZXRyeShyb3cuX3RyYWNrSlNPTiksXG4gICAgICBkdXJhdGlvbjogcm93Ll9kdXJhdGlvbixcbiAgICAgIGJpdF9yYXRlOiByb3cuX2JpdFJhdGVcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGNoYW5nZXNldChyb3cpIHtcbiAgICBjb25zdCBnZW9tZXRyeSA9IHRoaXMuZ2VvbUZyb21HZW9KU09OKHJvdy5ib3VuZGluZ0JveEFzR2VvSlNPTik7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcm93X2lkOiByb3cucm93SUQsXG4gICAgICByb3dfcmVzb3VyY2VfaWQ6IHJvdy5pZCxcbiAgICAgIGZvcm1faWQ6IHJvdy5fZm9ybVJvd0lELFxuICAgICAgZm9ybV9yZXNvdXJjZV9pZDogcm93Ll9mb3JtSUQsXG4gICAgICBtZXRhZGF0YTogdGhpcy5qc29uVmFsdWUocm93Ll9tZXRhZGF0YSksXG4gICAgICBjbG9zZWRfYXQ6IHJvdy5fY2xvc2VkQXQsXG4gICAgICBjcmVhdGVkX2J5X2lkOiByb3cuX2NyZWF0ZWRCeVJvd0lELFxuICAgICAgY3JlYXRlZF9ieV9yZXNvdXJjZV9pZDogcm93Ll9jcmVhdGVkQnlJRCxcbiAgICAgIHVwZGF0ZWRfYnlfaWQ6IHJvdy5fdXBkYXRlZEJ5Um93SUQsXG4gICAgICB1cGRhdGVkX2J5X3Jlc291cmNlX2lkOiByb3cuX3VwZGF0ZWRCeUlELFxuICAgICAgY2xvc2VkX2J5X2lkOiByb3cuX2Nsb3NlZEJ5Um93SUQsXG4gICAgICBjbG9zZWRfYnlfcmVzb3VyY2VfaWQ6IHJvdy5fY2xvc2VkQnlJRCxcbiAgICAgIGNyZWF0ZWRfYXQ6IHJvdy5fY3JlYXRlZEF0LFxuICAgICAgdXBkYXRlZF9hdDogcm93Ll91cGRhdGVkQXQsXG4gICAgICBtaW5fbGF0OiByb3cuX21pbkxhdCxcbiAgICAgIG1heF9sYXQ6IHJvdy5fbWF4TGF0LFxuICAgICAgbWluX2xvbjogcm93Ll9taW5Mb24sXG4gICAgICBtYXhfbG9uOiByb3cuX21heExvbixcbiAgICAgIG51bWJlcl9vZl9jaGFuZ2VzOiByb3cuX251bWJlck9mQ2hhbmdlcyxcbiAgICAgIG51bWJlcl9vZl9jcmVhdGVzOiByb3cuX251bWJlck9mQ3JlYXRlcyxcbiAgICAgIG51bWJlcl9vZl91cGRhdGVzOiByb3cuX251bWJlck9mVXBkYXRlZCxcbiAgICAgIG51bWJlcl9vZl9kZWxldGVzOiByb3cuX251bWJlck9mRGVsZXRlcyxcbiAgICAgIG1ldGFkYXRhX2luZGV4X3RleHQ6IHJvdy5fbWV0YWRhdGFJbmRleFRleHQsXG4gICAgICBtZXRhZGF0YV9pbmRleDoge3JhdzogYHRvX3RzdmVjdG9yKCR7IHBnZm9ybWF0KCclTCcsIHJvdy5fbWV0YWRhdGFJbmRleFRleHQpIH0pYH0sXG4gICAgICBib3VuZGluZ19ib3g6IGdlb21ldHJ5ID8ge3JhdzogdGhpcy5nZW9tRnJvbUdlb0pTT04ocm93LmJvdW5kaW5nQm94QXNHZW9KU09OKX0gOiBudWxsXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBjaG9pY2VMaXN0KHJvdykge1xuICAgIHJldHVybiB7XG4gICAgICByb3dfaWQ6IHJvdy5yb3dJRCxcbiAgICAgIHJvd19yZXNvdXJjZV9pZDogcm93LmlkLFxuICAgICAgbmFtZTogcm93Ll9uYW1lLFxuICAgICAgZGVzY3JpcHRpb246IHJvdy5fZGVzY3JpcHRpb24sXG4gICAgICB2ZXJzaW9uOiByb3cuX3ZlcnNpb24sXG4gICAgICBpdGVtczogdGhpcy5qc29uVmFsdWUocm93Ll9jaG9pY2VzSlNPTiksXG4gICAgICBjcmVhdGVkX2F0OiByb3cuX2NyZWF0ZWRBdCxcbiAgICAgIHVwZGF0ZWRfYXQ6IHJvdy5fdXBkYXRlZEF0LFxuICAgICAgZGVsZXRlZF9hdDogcm93Ll9kZWxldGVkQXRcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGNsYXNzaWZpY2F0aW9uU2V0KHJvdykge1xuICAgIHJldHVybiB7XG4gICAgICByb3dfaWQ6IHJvdy5yb3dJRCxcbiAgICAgIHJvd19yZXNvdXJjZV9pZDogcm93LmlkLFxuICAgICAgbmFtZTogcm93Ll9uYW1lLFxuICAgICAgZGVzY3JpcHRpb246IHJvdy5fZGVzY3JpcHRpb24sXG4gICAgICB2ZXJzaW9uOiByb3cuX3ZlcnNpb24sXG4gICAgICBpdGVtczogdGhpcy5qc29uVmFsdWUocm93Ll9pdGVtc0pTT04pLFxuICAgICAgY3JlYXRlZF9hdDogcm93Ll9jcmVhdGVkQXQsXG4gICAgICB1cGRhdGVkX2F0OiByb3cuX3VwZGF0ZWRBdCxcbiAgICAgIGRlbGV0ZWRfYXQ6IHJvdy5fZGVsZXRlZEF0XG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBmb3JtKHJvdykge1xuICAgIHJldHVybiB7XG4gICAgICByb3dfaWQ6IHJvdy5yb3dJRCxcbiAgICAgIHJvd19yZXNvdXJjZV9pZDogcm93LmlkLFxuICAgICAgbmFtZTogcm93Ll9uYW1lLFxuICAgICAgZGVzY3JpcHRpb246IHJvdy5fZGVzY3JpcHRpb24sXG4gICAgICB2ZXJzaW9uOiByb3cuX3ZlcnNpb24sXG4gICAgICBlbGVtZW50czogdGhpcy5qc29uVmFsdWUocm93Ll9lbGVtZW50c0pTT04pLFxuICAgICAgc3RhdHVzOiByb3cuX3N0YXR1cyxcbiAgICAgIHN0YXR1c19maWVsZDogdGhpcy5qc29uVmFsdWUocm93Ll9zdGF0dXNGaWVsZEpTT04pLFxuICAgICAgY3JlYXRlZF9hdDogcm93Ll9jcmVhdGVkQXQsXG4gICAgICB1cGRhdGVkX2F0OiByb3cuX3VwZGF0ZWRBdCxcbiAgICAgIGRlbGV0ZWRfYXQ6IHJvdy5fZGVsZXRlZEF0LFxuICAgICAgYXV0b19hc3NpZ246IHJvdy5fYXV0b0Fzc2lnbixcbiAgICAgIHRpdGxlX2ZpZWxkX2tleXM6IHRoaXMuanNvblZhbHVlKHJvdy5fdGl0bGVGaWVsZEtleXMpLFxuICAgICAgaGlkZGVuX29uX2Rhc2hib2FyZDogcm93Ll9oaWRkZW5PbkRhc2hib2FyZCxcbiAgICAgIGdlb21ldHJ5X3R5cGVzOiB0aGlzLmpzb25WYWx1ZShyb3cuX2dlb21ldHJ5VHlwZXMpLFxuICAgICAgZ2VvbWV0cnlfcmVxdWlyZWQ6IHJvdy5fZ2VvbWV0cnlSZXF1aXJlZCxcbiAgICAgIHNjcmlwdDogcm93Ll9zY3JpcHQsXG4gICAgICBpbWFnZTogcm93Ll9pbWFnZSxcbiAgICAgIHByb2plY3RzX2VuYWJsZWQ6ICEhcm93Ll9wcm9qZWN0RW5hYmxlZCxcbiAgICAgIGFzc2lnbm1lbnRfZW5hYmxlZDogISFyb3cuX2Fzc2lnbm1lbnRFbmFibGVkXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBwcm9qZWN0KHJvdykge1xuICAgIHJldHVybiB7XG4gICAgICByb3dfaWQ6IHJvdy5yb3dJRCxcbiAgICAgIHJvd19yZXNvdXJjZV9pZDogcm93LmlkLFxuICAgICAgbmFtZTogcm93Ll9uYW1lLFxuICAgICAgZGVzY3JpcHRpb246IHJvdy5fZGVzY3JpcHRpb24sXG4gICAgICBjcmVhdGVkX2F0OiByb3cuX2NyZWF0ZWRBdCxcbiAgICAgIHVwZGF0ZWRfYXQ6IHJvdy5fdXBkYXRlZEF0LFxuICAgICAgZGVsZXRlZF9hdDogcm93Ll9kZWxldGVkQXRcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIHJvbGUocm93KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvd19pZDogcm93LnJvd0lELFxuICAgICAgcm93X3Jlc291cmNlX2lkOiByb3cuaWQsXG4gICAgICBuYW1lOiByb3cuX25hbWUsXG4gICAgICBkZXNjcmlwdGlvbjogcm93Ll9kZXNjcmlwdGlvbixcbiAgICAgIGNyZWF0ZWRfYXQ6IHJvdy5fY3JlYXRlZEF0LFxuICAgICAgdXBkYXRlZF9hdDogcm93Ll91cGRhdGVkQXQsXG4gICAgICBkZWxldGVkX2F0OiByb3cuX2RlbGV0ZWRBdCxcbiAgICAgIGlzX3N5c3RlbTogcm93Ll9pc1N5c3RlbSxcbiAgICAgIGlzX2RlZmF1bHQ6IHJvdy5faXNEZWZhdWx0LFxuICAgICAgY2FuX21hbmFnZV9zdWJzY3JpcHRpb246IHJvdy5jYW5NYW5hZ2VTdWJzY3JpcHRpb24sXG4gICAgICBjYW5fdXBkYXRlX29yZ2FuaXphdGlvbjogcm93LmNhblVwZGF0ZU9yZ2FuaXphdGlvbixcbiAgICAgIGNhbl9tYW5hZ2VfbWVtYmVyczogcm93LmNhbk1hbmFnZU1lbWJlcnMsXG4gICAgICBjYW5fbWFuYWdlX3JvbGVzOiByb3cuY2FuTWFuYWdlUm9sZXMsXG4gICAgICBjYW5fbWFuYWdlX2FwcHM6IHJvdy5jYW5NYW5hZ2VBcHBzLFxuICAgICAgY2FuX21hbmFnZV9wcm9qZWN0czogcm93LmNhbk1hbmFnZVByb2plY3RzLFxuICAgICAgY2FuX21hbmFnZV9jaG9pY2VfbGlzdHM6IHJvdy5jYW5NYW5hZ2VDaG9pY2VMaXN0cyxcbiAgICAgIGNhbl9tYW5hZ2VfY2xhc3NpZmljYXRpb25fc2V0czogcm93LmNhbk1hbmFnZUNsYXNzaWZpY2F0aW9uU2V0cyxcbiAgICAgIGNhbl9jcmVhdGVfcmVjb3Jkczogcm93LmNhbkNyZWF0ZVJlY29yZHMsXG4gICAgICBjYW5fdXBkYXRlX3JlY29yZHM6IHJvdy5jYW5VcGRhdGVSZWNvcmRzLFxuICAgICAgY2FuX2RlbGV0ZV9yZWNvcmRzOiByb3cuY2FuRGVsZXRlUmVjb3JkcyxcbiAgICAgIGNhbl9jaGFuZ2Vfc3RhdHVzOiByb3cuY2FuQ2hhbmdlU3RhdHVzLFxuICAgICAgY2FuX2NoYW5nZV9wcm9qZWN0OiByb3cuY2FuQ2hhbmdlUHJvamVjdCxcbiAgICAgIGNhbl9hc3NpZ25fcmVjb3Jkczogcm93LmNhbkFzc2lnblJlY29yZHMsXG4gICAgICBjYW5faW1wb3J0X3JlY29yZHM6IHJvdy5jYW5JbXBvcnRSZWNvcmRzLFxuICAgICAgY2FuX2V4cG9ydF9yZWNvcmRzOiByb3cuY2FuRXhwb3J0UmVjb3JkcyxcbiAgICAgIGNhbl9ydW5fcmVwb3J0czogcm93LmNhblJ1blJlcG9ydHNcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIG1lbWJlcnNoaXAocm93KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvd19pZDogcm93LnJvd0lELFxuICAgICAgcm93X3Jlc291cmNlX2lkOiByb3cuaWQsXG4gICAgICB1c2VyX3Jlc291cmNlX2lkOiByb3cuX3VzZXJJRCxcbiAgICAgIGZpcnN0X25hbWU6IHJvdy5fZmlyc3ROYW1lLFxuICAgICAgbGFzdF9uYW1lOiByb3cuX2xhc3ROYW1lLFxuICAgICAgbmFtZTogKHJvdy5fZmlyc3ROYW1lIHx8ICcnKSArICcgJyArIChyb3cuX2xhc3ROYW1lIHx8ICcnKSxcbiAgICAgIGVtYWlsOiByb3cuX2VtYWlsLFxuICAgICAgcm9sZV9pZDogcm93Ll9yb2xlUm93SUQsXG4gICAgICByb2xlX3Jlc291cmNlX2lkOiByb3cuX3JvbGVJRCxcbiAgICAgIHN0YXR1czogcm93LnN0YXR1cyxcbiAgICAgIGNyZWF0ZWRfYXQ6IHJvdy5fY3JlYXRlZEF0LFxuICAgICAgdXBkYXRlZF9hdDogcm93Ll91cGRhdGVkQXQsXG4gICAgICBkZWxldGVkX2F0OiByb3cuX2RlbGV0ZWRBdFxuICAgIH07XG4gIH1cbn1cbiJdfQ==